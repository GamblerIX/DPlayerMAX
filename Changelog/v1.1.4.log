# DPlayerMAX v1.1.4 更新日志

发布日期: 2025-11-19

## 重大更新

从 v1.1.2 到 v1.1.4 是一次重大升级，跳过了开发时出现严重BUG的v1.1.3，直接引入了完整的自动更新系统。

## 新增功能

### 🚀 自动更新系统（全新）
- ✨ **一键更新**：在插件配置页面点击按钮即可完成更新
- 🔍 **版本检查**：自动对比本地版本与 GitHub 远程版本
- 📥 **自动下载**：从 GitHub 自动下载最新版本
- 🔄 **智能安装**：自动解压、安装、验证和清理
- 💡 **状态指示灯**：实时显示更新状态（未检查/最新/有更新/错误）
- 🛡️ **安全验证**：包含权限检查、路径验证和文件保护
- 📊 **实时反馈**：显示更新进度和详细状态信息

### 🎨 UI/UX 改进
- 🎯 **动态按钮**：检查到更新后自动显示"立即更新"按钮
- 💡 **状态指示灯**：四种状态（未检查/最新/有更新/错误）
- 🌈 **视觉反馈**：状态指示灯带动画效果，更直观
- 📱 **响应式设计**：移动端适配优化
- 🔗 **更新日志链接**：直接跳转到 GitHub Changelog 目录

## 升级说明

### 从 v1.1.2 升级到 v1.1.4

#### 方式一：手动升级（推荐首次升级）
1. **备份数据**：备份当前插件目录
2. **下载新版本**：从 GitHub 下载 v1.1.4
3. **替换文件**：解压并替换到 `usr/plugins/DPlayerMAX/`
4. **验证安装**：访问插件配置页面，确认版本号为 1.1.4
5. **测试功能**：点击"检查更新"按钮测试更新功能

#### 方式二：使用更新功能（v1.1.4+）
1. 访问插件配置页面
2. 点击"检查更新"按钮
3. 如果显示有新版本，点击"立即更新"
4. 等待更新完成（约 10-30 秒）
5. 刷新页面确认版本号

### 注意事项
- ⚠️ 首次从 v1.1.2 升级必须手动安装
- ⚠️ 确保 `VERSION` 文件存在
- ⚠️ 确保 `ext/Updated.php` 文件存在
- ⚠️ 确保插件目录有写入权限
- ⚠️ 建议在升级前备份数据
- ⚠️ 自该版本开始，将不再考虑*PHP7.0-*，*Typecho 1.2-*和*IE浏览器*的兼容性问题。

## 功能对比

### v1.1.2 vs v1.1.4

| 功能 | v1.1.2 | v1.1.4 |
|------|--------|--------|
| 视频播放 | ✅ | ✅ |
| HLS 支持 | ✅ | ✅ |
| FLV 支持 | ✅ | ✅ |
| 弹幕功能 | ✅ | ✅ |
| 编辑器按钮 | ✅ | ✅ |
| **版本检查** | ❌ | ✅ |
| **自动更新** | ❌ | ✅ |
| **状态指示灯** | ❌ | ✅ |
| **更新日志** | ❌ | ✅ |
| **错误提示** | ❌ | ✅ |
| **文件保护** | ❌ | ✅ |
